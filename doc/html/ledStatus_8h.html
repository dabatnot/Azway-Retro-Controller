<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azway Retro Controller: include/ledStatus.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_transparent_doxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">Azway Retro Controller<span id="projectnumber">&#160;v1.0.0</span>
   </div>
   <div id="projectbrief">Source code of the Azway Retro controller firmware</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">ledStatus.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header file for managing an LED using FreeRTOS tasks on an Arduino-compatible microcontroller.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &quot;HT_SSD1306Wire.h&quot;</code><br />
<code>#include &quot;<a class="el" href="images_8h_source.html">images.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="display_8h_source.html">display.h</a>&quot;</code><br />
</div>
<p><a href="ledStatus_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a43ade8190c6181efc642adb3e5aa1736" id="r_a43ade8190c6181efc642adb3e5aa1736"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43ade8190c6181efc642adb3e5aa1736">LedStatus</a> { <a class="el" href="#a43ade8190c6181efc642adb3e5aa1736aac132f2982b98bcaa3445e535a03ff75">OFF</a>
, <a class="el" href="#a43ade8190c6181efc642adb3e5aa1736a6564f2f3e15be06b670547bbcaaf0798">READY</a>
, <a class="el" href="#a43ade8190c6181efc642adb3e5aa1736a757971c0bc5a1972d5f1b1be2c0e2087">WAITING</a>
, <a class="el" href="#a43ade8190c6181efc642adb3e5aa1736a702582f7f825ca83bdb076b15b4c0fc2">CONFIG</a>
 }</td></tr>
<tr class="memdesc:a43ade8190c6181efc642adb3e5aa1736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration for the different states of the LED.  <a href="#a43ade8190c6181efc642adb3e5aa1736">More...</a><br /></td></tr>
<tr class="separator:a43ade8190c6181efc642adb3e5aa1736"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af6c50113f7a4f4e426a92bfc84d4ee6e" id="r_af6c50113f7a4f4e426a92bfc84d4ee6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6c50113f7a4f4e426a92bfc84d4ee6e">manageLED</a> (void *pvParameters)</td></tr>
<tr class="memdesc:af6c50113f7a4f4e426a92bfc84d4ee6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task function to manage the LED behavior based on the current status.  <br /></td></tr>
<tr class="separator:af6c50113f7a4f4e426a92bfc84d4ee6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82e34c2fc28747a4dcc81e3b17f43fc3" id="r_a82e34c2fc28747a4dcc81e3b17f43fc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82e34c2fc28747a4dcc81e3b17f43fc3">activateLeds</a> (int nbPlayers, bool showStatus=true)</td></tr>
<tr class="memdesc:a82e34c2fc28747a4dcc81e3b17f43fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activates LEDs based on the number of players.  <br /></td></tr>
<tr class="separator:a82e34c2fc28747a4dcc81e3b17f43fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a769d1dacfe53490335b09588ec128c5a" id="r_a769d1dacfe53490335b09588ec128c5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a769d1dacfe53490335b09588ec128c5a">setupLED</a> ()</td></tr>
<tr class="memdesc:a769d1dacfe53490335b09588ec128c5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the LED pin, serial communication, and creates the FreeRTOS tasks.  <br /></td></tr>
<tr class="separator:a769d1dacfe53490335b09588ec128c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2cd9f0d96c9cd0637798de3baa7aee60" id="r_a2cd9f0d96c9cd0637798de3baa7aee60"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2cd9f0d96c9cd0637798de3baa7aee60">ledPin</a> = LED</td></tr>
<tr class="separator:a2cd9f0d96c9cd0637798de3baa7aee60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0da1ba5a17b8c8fe5579cceb3be3cdb" id="r_ac0da1ba5a17b8c8fe5579cceb3be3cdb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0da1ba5a17b8c8fe5579cceb3be3cdb">joyPos</a> [4]</td></tr>
<tr class="memdesc:ac0da1ba5a17b8c8fe5579cceb3be3cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Positions of the joysticks on the display.  <br /></td></tr>
<tr class="separator:ac0da1ba5a17b8c8fe5579cceb3be3cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af29513c4a48a7816451888a70dea5584" id="r_af29513c4a48a7816451888a70dea5584"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="#a43ade8190c6181efc642adb3e5aa1736">LedStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af29513c4a48a7816451888a70dea5584">currentStatus</a></td></tr>
<tr class="memdesc:af29513c4a48a7816451888a70dea5584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current status of the LED.  <br /></td></tr>
<tr class="separator:af29513c4a48a7816451888a70dea5584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a74d99e32c031fea96c5a186b717ae" id="r_aa8a74d99e32c031fea96c5a186b717ae"><td class="memItemLeft" align="right" valign="top">TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8a74d99e32c031fea96c5a186b717ae">Task1</a></td></tr>
<tr class="memdesc:aa8a74d99e32c031fea96c5a186b717ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle for the LED management task.  <br /></td></tr>
<tr class="separator:aa8a74d99e32c031fea96c5a186b717ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for managing an LED using FreeRTOS tasks on an Arduino-compatible microcontroller. </p>
<p>This file contains the definitions and function prototypes required to manage an LED connected to a GPIO pin. The LED can be in one of four states: OFF, READY, WAITING, or CONFIG, each causing different behavior in the LED. The management of the LED state is handled by FreeRTOS tasks to ensure efficient multitasking.</p>
<p>The tasks defined in this file include:</p><ul>
<li>manageLED: Controls the LED behavior based on the current status.</li>
<li>setupLED: Initializes the LED pin, serial communication, and creates the FreeRTOS tasks.</li>
<li>activateLeds: Activates LEDs based on the number of players. </li>
</ul>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a43ade8190c6181efc642adb3e5aa1736" name="a43ade8190c6181efc642adb3e5aa1736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43ade8190c6181efc642adb3e5aa1736">&#9670;&#160;</a></span>LedStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a43ade8190c6181efc642adb3e5aa1736">LedStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration for the different states of the LED. </p>
<p>This enum defines the possible states for the LED:</p><ul>
<li>OFF: LED is turned off.</li>
<li>READY: LED is turned on continuously.</li>
<li>WAITING: LED blinks with a specific pattern indicating waiting status.</li>
<li>CONFIG: LED blinks with a specific pattern indicating configuration status. </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a43ade8190c6181efc642adb3e5aa1736aac132f2982b98bcaa3445e535a03ff75" name="a43ade8190c6181efc642adb3e5aa1736aac132f2982b98bcaa3445e535a03ff75"></a>OFF&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a43ade8190c6181efc642adb3e5aa1736a6564f2f3e15be06b670547bbcaaf0798" name="a43ade8190c6181efc642adb3e5aa1736a6564f2f3e15be06b670547bbcaaf0798"></a>READY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a43ade8190c6181efc642adb3e5aa1736a757971c0bc5a1972d5f1b1be2c0e2087" name="a43ade8190c6181efc642adb3e5aa1736a757971c0bc5a1972d5f1b1be2c0e2087"></a>WAITING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a43ade8190c6181efc642adb3e5aa1736a702582f7f825ca83bdb076b15b4c0fc2" name="a43ade8190c6181efc642adb3e5aa1736a702582f7f825ca83bdb076b15b4c0fc2"></a>CONFIG&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a82e34c2fc28747a4dcc81e3b17f43fc3" name="a82e34c2fc28747a4dcc81e3b17f43fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82e34c2fc28747a4dcc81e3b17f43fc3">&#9670;&#160;</a></span>activateLeds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void activateLeds </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nbPlayers</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>showStatus</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activates LEDs based on the number of players. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nbPlayers</td><td>The number of players. </td></tr>
    <tr><td class="paramname">showStatus</td><td>Whether to show the status on the display.</td></tr>
  </table>
  </dd>
</dl>
<p>This function turns on the appropriate number of LEDs based on the number of players. It also updates the display to show the status of each LED.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nbPlayers</td><td>The number of players. </td></tr>
    <tr><td class="paramname">showStatus</td><td>Whether to show the status on the display. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af6c50113f7a4f4e426a92bfc84d4ee6e" name="af6c50113f7a4f4e426a92bfc84d4ee6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6c50113f7a4f4e426a92bfc84d4ee6e">&#9670;&#160;</a></span>manageLED()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void manageLED </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pvParameters</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Task function to manage the LED behavior based on the current status. </p>
<p>This function runs in an infinite loop, checking the current status of the LED and updating its state accordingly. The behavior of the LED changes depending on the value of currentStatus.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pvParameters</td><td>Pointer to the parameters passed to the task (not used in this case). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a769d1dacfe53490335b09588ec128c5a" name="a769d1dacfe53490335b09588ec128c5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a769d1dacfe53490335b09588ec128c5a">&#9670;&#160;</a></span>setupLED()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setupLED </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the LED pin, serial communication, and creates the FreeRTOS tasks. </p>
<p>This function sets up the necessary hardware and tasks for managing the LED. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af29513c4a48a7816451888a70dea5584" name="af29513c4a48a7816451888a70dea5584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af29513c4a48a7816451888a70dea5584">&#9670;&#160;</a></span>currentStatus</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="#a43ade8190c6181efc642adb3e5aa1736">LedStatus</a> currentStatus</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current status of the LED. </p>

</div>
</div>
<a id="ac0da1ba5a17b8c8fe5579cceb3be3cdb" name="ac0da1ba5a17b8c8fe5579cceb3be3cdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0da1ba5a17b8c8fe5579cceb3be3cdb">&#9670;&#160;</a></span>joyPos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int joyPos[4]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Positions of the joysticks on the display. </p>

</div>
</div>
<a id="a2cd9f0d96c9cd0637798de3baa7aee60" name="a2cd9f0d96c9cd0637798de3baa7aee60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cd9f0d96c9cd0637798de3baa7aee60">&#9670;&#160;</a></span>ledPin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int ledPin = LED</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa8a74d99e32c031fea96c5a186b717ae" name="aa8a74d99e32c031fea96c5a186b717ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8a74d99e32c031fea96c5a186b717ae">&#9670;&#160;</a></span>Task1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TaskHandle_t Task1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle for the LED management task. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
